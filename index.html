<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChÃºc má»«ng 20/10</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Canvas phÃ¡o hoa ná»n -->
        <canvas id="fireworksCanvas" aria-hidden="true"></canvas>
        <!-- Hoa há»“ng trang trÃ­ ná»n -->
        <div class="roses-background">
            <div class="rose rose-1">ğŸŒ¹</div>
            <div class="rose rose-2">ğŸŒ¹</div>
            <div class="rose rose-3">ğŸŒ¹</div>
            <div class="rose rose-4">ğŸŒ¹</div>
            <div class="rose rose-5">ğŸŒ¹</div>
            <div class="rose rose-6">ğŸŒ¹</div>
            <div class="rose rose-7">ğŸŒ¹</div>
            <div class="rose rose-8">ğŸŒ¹</div>
        </div>
        
        <!-- Phong bÃ¬ -->
        <div class="envelope" id="envelope">
            <div class="envelope-front">
                <div class="envelope-flap"></div>
                <div class="envelope-body"></div>
                <div class="envelope-bottom"></div>
            </div>
            <div class="envelope-back"></div>
            <div class="click-text">Báº¥m vÃ o phong bÃ¬</div>
            
            <!-- Cupid bay vá»›i biá»ƒn hÆ°á»›ng dáº«n -->
            <div class="cupid-container">
                <div class="cupid">ğŸ§šâ€â™€ï¸</div>
                <div class="cupid-sign">
                    <div class="sign-text">ğŸ’¥ Báº¥m vÃ o mÃ n hÃ¬nh Ä‘á»ƒ ná»• phÃ¡o hoa vÃ  trÃ¡i tim</div>
                </div>
            </div>
        </div>

        <!-- Trang thá»© 2 - áº¢nh -->
        <div class="content" id="content">
            <div class="center-card">
                <!-- VÃ²ng áº£nh xung quanh -->
                <div class="images-ring" id="imagesRing"></div>
                
                <!-- NÃºt trÃ¡i tim á»Ÿ giá»¯a -->
                <div class="heart-button" id="heartButton">
                    <div class="heart">ğŸ’–</div>
                    <div class="heart-text">Báº¥m Ä‘á»ƒ xem lá»i chÃºc</div>
                </div>
            </div>
        </div>

        <!-- Trang thá»© 3 - Lá»i chÃºc -->
        <div class="message-page" id="messagePage">
            <div class="message-card">
                <div class="message">
                    <h1>ChÃºc má»«ng 20/10!</h1>
                    <div class="special-name">Nguyá»…n Thu Trang</div>
                    <p class="typewriter-text">ChÃºc báº¡n Nguyá»…n Thu Trang ngÃ y phá»¥ ná»¯ Viá»‡t Nam luÃ´n xinh Ä‘áº¹p, tÆ°Æ¡i cÆ°á»i nhÆ° cÆ°á»i tÆ°Æ¡i vÃ  sá»‘ng khá»e nhÆ° cÃ¢y xÆ°Æ¡ng rá»“ng</p>
                    <div class="date-text">20/10/2025</div>
                </div>
                
                <!-- Emoji trang trÃ­ -->
                <div class="decorative-emojis">
                    <div class="emoji emoji-1">ğŸŒ¸</div>
                    <div class="emoji emoji-2">ğŸ’–</div>
                    <div class="emoji emoji-3">âœ¨</div>
                    <div class="emoji emoji-4">ğŸŒº</div>
                    <div class="emoji emoji-5">ğŸŒ¹</div>
                    <div class="emoji emoji-6">ğŸ’•</div>
                    <div class="emoji emoji-7">ğŸŒŸ</div>
                    <div class="emoji emoji-8">ğŸŒ¼</div>
                </div>
                
                <!-- Confetti -->
                <div class="confetti-container" id="confettiContainer"></div>
                
                <!-- Canvas phÃ¡o hoa sá»‘ 7 cho trang 3 -->
                <canvas id="sevensCanvas" aria-hidden="true"></canvas>
            </div>
            
            <!-- Sticker bÃªn ngoÃ i khung chÃºc -->
            <div class="outer-stickers">
                <div class="sticker sticker-1">ğŸ€</div>
                <div class="sticker sticker-2">ğŸ’</div>
                <div class="sticker sticker-3">ğŸ</div>
                <div class="sticker sticker-4">ğŸ¦‹</div>
                <div class="sticker sticker-5">ğŸŒ·</div>
                <div class="sticker sticker-6">ğŸ’</div>
                <div class="sticker sticker-7">ğŸ¦„</div>
                <div class="sticker sticker-8">ğŸŒ»</div>
                <div class="sticker sticker-9">ğŸˆ</div>
                <div class="sticker sticker-10">ğŸ¦‹</div>
                <div class="sticker sticker-11">ğŸŒº</div>
                <div class="sticker sticker-12">ğŸ€</div>
            </div>
        </div>
    </div>

    <script>
        // Fireworks background
        (function() {
            const canvas = document.getElementById('fireworksCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            let dpr = Math.max(1, window.devicePixelRatio || 1);
            function resize() {
                const rect = canvas.getBoundingClientRect();
                canvas.width = Math.floor(rect.width * dpr);
                canvas.height = Math.floor(rect.height * dpr);
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
            }
            const ro = new ResizeObserver(resize);
            ro.observe(canvas);
            resize();

            const GRAVITY = 0.06;
            const FRICTION = 0.99;
            const COLORS = ['#ff6b6b', '#ffd93d', '#6bcf7f', '#4d9de0', '#ff8e8e', '#e056fd'];
            const particles = [];

            function random(min, max) { return Math.random() * (max - min) + min; }

            function burst(x, y, color) {
                const count = 30; // Giáº£m sá»‘ háº¡t Ä‘á»ƒ giáº£m lag
                for (let i = 0; i < count; i++) {
                    const angle = (Math.PI * 2 * i) / count + random(-0.1, 0.1);
                    const speed = random(2, 5); // Giáº£m tá»‘c Ä‘á»™
                    particles.push({
                        x, y,
                        vx: Math.cos(angle) * speed,
                        vy: Math.sin(angle) * speed,
                        life: random(40, 70), // Giáº£m thá»i gian sá»‘ng
                        color,
                        size: random(2, 4) // Giáº£m kÃ­ch thÆ°á»›c
                    });
                }
            }

            let lastSpawn = 0;
            function spawnIfNeeded(t) {
                if (t - lastSpawn > 4000) { // Má»—i 4 giÃ¢y ná»• 1 láº§n (giáº£m lag)
                    lastSpawn = t;
                    const x = random(60, canvas.width / dpr - 60);
                    const y = random(80, canvas.height / dpr / 2);
                    // Chá»‰ báº¯n 1 phÃ¡o hoa (giáº£m sá»‘ háº¡t)
                    burst(x, y, COLORS[(Math.random() * COLORS.length) | 0]);
                }
            }

            function step(t) {
                spawnIfNeeded(t || 0);
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                for (let i = particles.length - 1; i >= 0; i--) {
                    const p = particles[i];
                    p.vx *= FRICTION;
                    p.vy = p.vy * FRICTION + GRAVITY;
                    p.x += p.vx;
                    p.y += p.vy;
                    p.life -= 1;
                    if (p.life <= 0) { particles.splice(i, 1); continue; }
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size * 4);
                    grad.addColorStop(0, 'rgba(255,255,255,1)');
                    grad.addColorStop(0.2, p.color);
                    grad.addColorStop(0.6, p.color + '80');
                    grad.addColorStop(1, 'rgba(0,0,0,0)');
                    ctx.fillStyle = grad;
                    ctx.fill();
                    
                    // ThÃªm Ã¡nh sÃ¡ng xung quanh
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size * 2, 0, Math.PI * 2);
                    const glow = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size * 2);
                    glow.addColorStop(0, p.color + '40');
                    glow.addColorStop(1, 'rgba(0,0,0,0)');
                    ctx.fillStyle = glow;
                    ctx.fill();
                }
                requestAnimationFrame(step);
            }
            requestAnimationFrame(step);

            // Bonus: báº¯n theo click/tap - ngáº«u nhiÃªn phÃ¡o hoa hoáº·c trÃ¡i tim
            window.addEventListener('click', (e) => {
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX - rect.left);
                const y = (e.clientY - rect.top);
                
                // 50% cÆ¡ há»™i ná»• phÃ¡o hoa, 50% cÆ¡ há»™i ná»• trÃ¡i tim
                if (Math.random() < 0.5) {
                    // Ná»• phÃ¡o hoa
                    burst(x, y, COLORS[(Math.random() * COLORS.length) | 0]);
                } else {
                    // Ná»• trÃ¡i tim
                    burstHearts(x, y);
                }
            }, { passive: true });
            
            // HÃ m ná»• trÃ¡i tim
            function burstHearts(x, y) {
                const heartCount = 20;
                const heartEmojis = ['ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’', 'ğŸ’˜', 'ğŸ’“'];
                
                for (let i = 0; i < heartCount; i++) {
                    const angle = (Math.PI * 2 * i) / heartCount + random(-0.1, 0.1);
                    const speed = random(2, 5);
                    const heart = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
                    
                    // Táº¡o trÃ¡i tim bay
                    const heartEl = document.createElement('div');
                    heartEl.textContent = heart;
                    heartEl.style.position = 'fixed';
                    heartEl.style.left = x + 'px';
                    heartEl.style.top = y + 'px';
                    heartEl.style.fontSize = '2rem';
                    heartEl.style.pointerEvents = 'none';
                    heartEl.style.zIndex = '1000';
                    heartEl.style.filter = 'drop-shadow(0 0 10px rgba(255, 105, 180, 0.8))';
                    document.body.appendChild(heartEl);
                    
                    // Animation trÃ¡i tim bay
                    const vx = Math.cos(angle) * speed;
                    const vy = Math.sin(angle) * speed - 2; // Bay lÃªn
                    let px = x, py = y;
                    let life = 60;
                    
                    const animateHeart = () => {
                        px += vx;
                        py += vy;
                        life--;
                        
                        heartEl.style.left = px + 'px';
                        heartEl.style.top = py + 'px';
                        heartEl.style.opacity = life / 60;
                        heartEl.style.transform = `scale(${life / 60})`;
                        
                        if (life > 0) {
                            requestAnimationFrame(animateHeart);
                        } else {
                            document.body.removeChild(heartEl);
                        }
                    };
                    requestAnimationFrame(animateHeart);
                }
            }
        })();

        // Chá»‰nh sá»­a danh sÃ¡ch tÃªn áº£nh cho trÃ¹ng vá»›i file báº¡n Ä‘Ã£ thÃªm trong folder assets
        const imageFileNames = [
            'img1.jpg',
            'img2.jpg',
            'img3.jpg',
            'img4.jpg',
            'img5.jpg'
        ];

        // Render áº£nh vÃ o vÃ²ng áº£nh
        const imagesRingEl = document.getElementById('imagesRing');
        if (imagesRingEl) {
            imagesRingEl.innerHTML = imageFileNames.map((name, index) => {
                const alt = `áº¢nh ${index + 1}`;
                return `<img src="assets/${name}" alt="${alt}">`;
            }).join('');
        }

        document.getElementById('envelope').addEventListener('click', function() {
            const envelope = document.getElementById('envelope');
            const content = document.getElementById('content');
            
            // áº¨n phong bÃ¬ vÃ  hiá»‡n ná»™i dung
            envelope.style.transform = 'translateY(-100vh)';
            envelope.style.opacity = '0';
            
            setTimeout(() => {
                envelope.style.display = 'none';
                content.style.display = 'block';
                content.style.animation = 'fadeInUp 1s ease-out';
            }, 500);
        });

        // Chuyá»ƒn tá»« trang 2 sang trang 3
        document.getElementById('heartButton').addEventListener('click', function() {
            const content = document.getElementById('content');
            const messagePage = document.getElementById('messagePage');
            const rosesBackground = document.querySelector('.roses-background');
            
            // áº¨n trang 2 vÃ  hoa há»“ng ná»n
            content.style.transform = 'translateY(-100vh)';
            content.style.opacity = '0';
            if (rosesBackground) {
                rosesBackground.style.display = 'none';
            }
            
            setTimeout(() => {
                content.style.display = 'none';
                messagePage.style.display = 'block';
                messagePage.style.animation = 'fadeInUp 1s ease-out';
                
                // Khá»Ÿi táº¡o phÃ¡o hoa sá»‘ 7 cho trang 3
                initSevensFireworks();
                
                // Khá»Ÿi táº¡o confetti
                createConfetti();
                
                // Khá»Ÿi táº¡o typewriter effect
                startTypewriter();
            }, 500);
        });

        // PhÃ¡o hoa sá»‘ 7 cho trang 3
        function initSevensFireworks() {
            const canvas = document.getElementById('sevensCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            let dpr = Math.max(1, window.devicePixelRatio || 1);
            function resize() {
                const rect = canvas.getBoundingClientRect();
                canvas.width = Math.floor(rect.width * dpr);
                canvas.height = Math.floor(rect.height * dpr);
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
            }
            const ro = new ResizeObserver(resize);
            ro.observe(canvas);
            resize();

            const GRAVITY = 0.05;
            const FRICTION = 0.98;
            const sevens = [];

            function random(min, max) { return Math.random() * (max - min) + min; }

            function burstSevens(x, y) {
                const count = 20; // TÄƒng sá»‘ lÆ°á»£ng
                for (let i = 0; i < count; i++) {
                    const angle = (Math.PI * 2 * i) / count + random(-0.1, 0.1);
                    const speed = random(3, 6); // TÄƒng tá»‘c Ä‘á»™
                    sevens.push({
                        x, y,
                        vx: Math.cos(angle) * speed,
                        vy: Math.sin(angle) * speed,
                        life: random(80, 120), // TÄƒng thá»i gian sá»‘ng
                        rotation: random(0, Math.PI * 2),
                        rotationSpeed: random(-0.15, 0.15), // TÄƒng tá»‘c Ä‘á»™ xoay
                        size: random(2.5, 4) // ThÃªm kÃ­ch thÆ°á»›c ngáº«u nhiÃªn
                    });
                }
            }

            let lastSpawn = 0;
            function spawnSevens(t) {
                if (t - lastSpawn > 3000) { // Má»—i 3 giÃ¢y ná»• 1 láº§n
                    lastSpawn = t;
                    const x = random(100, canvas.width / dpr - 100);
                    const y = random(100, canvas.height / dpr - 100);
                    burstSevens(x, y);
                }
            }

            function step(t) {
                spawnSevens(t || 0);
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                for (let i = sevens.length - 1; i >= 0; i--) {
                    const s = sevens[i];
                    s.vx *= FRICTION;
                    s.vy = s.vy * FRICTION + GRAVITY;
                    s.x += s.vx;
                    s.y += s.vy;
                    s.rotation += s.rotationSpeed;
                    s.life -= 1;
                    if (s.life <= 0) { sevens.splice(i, 1); continue; }
                    
                    ctx.save();
                    ctx.translate(s.x, s.y);
                    ctx.rotate(s.rotation);
                    
                    // Táº¡o gradient rá»±c rá»¡
                    const gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, s.size * 20);
                    gradient.addColorStop(0, `rgba(255, 255, 255, ${s.life / 120})`);
                    gradient.addColorStop(0.3, `rgba(255, 107, 107, ${s.life / 120})`);
                    gradient.addColorStop(0.7, `rgba(255, 0, 0, ${s.life / 120})`);
                    gradient.addColorStop(1, `rgba(255, 107, 107, ${s.life / 120})`);
                    
                    // Váº½ bÃ³ng Ä‘á»•
                    ctx.shadowColor = 'rgba(255, 107, 107, 0.8)';
                    ctx.shadowBlur = 15;
                    ctx.shadowOffsetX = 2;
                    ctx.shadowOffsetY = 2;
                    
                    // Font to hÆ¡n vÃ  rá»±c rá»¡ hÆ¡n
                    ctx.font = `bold ${s.size}rem Arial`;
                    ctx.fillStyle = gradient;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText('7', 0, 0);
                    
                    // ThÃªm viá»n sÃ¡ng
                    ctx.strokeStyle = `rgba(255, 255, 255, ${s.life / 120 * 0.8})`;
                    ctx.lineWidth = 2;
                    ctx.strokeText('7', 0, 0);
                    
                    ctx.restore();
                }
                requestAnimationFrame(step);
            }
            requestAnimationFrame(step);
        }

        // Confetti effect
        function createConfetti() {
            const container = document.getElementById('confettiContainer');
            const colors = ['#ff6b6b', '#ffd93d', '#6bcf7f', '#4d9de0', '#ff8e8e', '#e056fd'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.borderRadius = '50%';
                confetti.style.animation = `confettiFall ${Math.random() * 3 + 2}s linear forwards`;
                container.appendChild(confetti);
                
                setTimeout(() => {
                    if (confetti.parentNode) {
                        confetti.parentNode.removeChild(confetti);
                    }
                }, 5000);
            }
        }

        // Typewriter effect
        function startTypewriter() {
            const text = document.querySelector('.typewriter-text');
            const fullText = text.textContent;
            text.textContent = '';
            text.style.borderRight = '2px solid #ff6b6b';
            
            let i = 0;
            const typeInterval = setInterval(() => {
                text.textContent += fullText[i];
                i++;
                if (i >= fullText.length) {
                    clearInterval(typeInterval);
                    text.style.borderRight = 'none';
                }
            }, 50);
        }
    </script>
</body>
</html>
